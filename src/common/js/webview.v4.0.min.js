!function(e){var n=4,a=function(e,n,a,c){console.log("["+e+"."+n+"]\n\n"+c+"\n\n"+(a&&c+"?"+a)+"\n\n"+decodeURIComponent(a)+"\n\n")},c=function(){var n,a=e.navigator.userAgent.toLocaleLowerCase(),c=["iphone","android","windows","ipad","mac"];for(n=0;n<c.length;n++)if(a.indexOf(c[n])>-1)return c[n];return"other"};if("ipad"==c()){var i=document.createElement("iframe");i.style.display="none",document.body.appendChild(i),i.src=""}var t=function(e){var n;if(e)for(n in e)if("callbackName"===n)return e[n];return null},r=function(e){var n;if(e)for(n in e)if("callback"===n)return e[n];return null},o=function(e){var n,a,c=[];for(n in e)a=typeof e[n],c.push("string"===a||"number"===a?n+"="+encodeURIComponent(e[n]):n+"="+encodeURIComponent(JSON.stringify(e[n])));return c},u=function(e){var n,a=[];if(e){for(n in e)switch(n){case"config":a=a.concat(o(e[n]));break;case"callback":case"callbackName":break;default:a.push("object"==typeof e[n]?n+"="+encodeURIComponent(JSON.stringify(e[n])):n+"="+encodeURIComponent(e[n]))}return a.join("&")}return""},b=function(n,a){return a?e.webview.callbacks[a]=function(){n&&n.apply(n,arguments)}:(a="webviewCallback_"+Math.random().toString(32).substring(2),e.webview.callbacks[a]=function(){n&&n.apply(n,arguments),delete e.webview.callbacks[a]}),a},l=function(e,a){return n>=4&&"user"!=e&&"app"!=e?"http://core.luban.mucang.cn/"+e+"/"+a:"mc-web://"+e+"/"+a},s=function(n,a,c,i,t){return i?e.getMucangIOSWebViewData(n+"?"+a,b(c,t)):e.getMucangIOSWebViewData(n+"?"+a)},w=function(e,n,a,c,t){i.src=c?e+"?"+n+"&callbackName="+b(a,t):e+"?"+n},d=function(n,a,c,i,t){return i?e.mcAndroidWebview1.getMucangWebViewData(n+"?"+a,b(c,t)):e.mcAndroidWebview1.getMucangWebViewData(n+"?"+a)},f=function(n,i,o,b){var f=l(n,i,o),g=u(o),v=r(o),p=t(o);switch(c()){case"iphone":return s(f,g,v,b,p);case"ipad":return w(f,g,v,b,p);case"android":return d(f,g,v,b,p);default:e.webview.debug||a(n,i,g,f)}return void(e.webview.debug&&a(n,i,g,f))};!function(){var n;switch(c()){case"android":n=function(){var n=JSON.parse(e.mcAndroidWebview2.getMucangWebViewCallbackData());e.webview.callbacks[n.callback]&&e.webview.callbacks[n.callback](JSON.parse(n.data))},e.addEventListener("online",n,!1),e.addEventListener("offline",n,!1);break;case"iphone":e.mucangIOSWebViewCallback=function(n,a){e.webview.callbacks[n]&&e.webview.callbacks[n](JSON.parse(a))};break;case"ipad":e.mucangIOSWebViewCallback=function(n,a){e.webview.callbacks[n]&&e.webview.callbacks[n](JSON.parse(a))}}}(),e.webview=e.webview||{},e.webview.debug=!1,e.webview.callbacks={},e.webview.core={async:function(e,n,a){return f(e,n,a,!0)},execute:function(e,n,a){return f(e,n,a,!1)}},e.MCJSBridge=function(){this.callFn=function(n,a,r,o){n=n.toLowerCase();var l="http://"+n+".luban.mucang.cn/"+a+"?"+u(r),s=b(o,t(r));switch(c()){case"android":e.mcAndroidWebview1.getMucangWebViewData(l,s);break;case"ipad":setTimeout(function(){i.src=l+"&callbackName="+s},300);break;case"iphone":e.getMucangIOSWebViewData(l,s)}},this.regFn=function(n,a){switch(c()){case"android":var i="http://listener.luban.mucang.cn/"+n;e.webview.callbacks[n]=function(){a&&a.apply(a,arguments)},e.mcAndroidWebview1.getMucangWebViewData(i,n);break;case"iphone":case"ipad":e[n]=function(e){a&&a(JSON.parse(e))}}}},e.mcJSBridge=new MCJSBridge}(window);
!function(e){e.webview=e.webview||{},e.webview["native"]={album:function(n,t){return n.callback=function(e){t&&t(e.data)},e.webview.core.async("native","album",n)},saveImage:function(n,t){return e.webview.core.async("native","saveImage",{data:n,callback:t})},uploadImage:function(n,t){return n.callback=function(e){t&&t(e)},e.webview.core.async("native","uploadImage",n)},selectVideo:function(n){return e.webview.core.async("native","selectVideo",{callback:function(e){n(e)}})}},e.webview.web={open:function(n,t){return e.webview.core.async("web","open",{url:n,button:["refresh"],config:t})},setting:function(n){return e.webview.core.async("web","setting",{config:n})},back:function(){return e.webview.core.async("web","back")},close:function(){return e.webview.core.async("web","close")},menu:function(){return e.webview.core.async("web","menu")}},e.webview.share={open:function(n){return e.webview.core.async("share","open",{channel:n})},setting:function(n){return e.webview.core.async("share","setting",{config:n})},on:function(n){return e.webview.core.async("share","on",{callback:function(e){n(e.data.channel,e.data.success)}})}},e.webview.app={install:function(n,t,c,r,a){return e.webview.core.async("app","install",{appId:n,pkg:t,url:c,version:r,callback:function(e){a&&a(e)}})},check:function(n,t){return e.webview.core.async("app","check",{pkg:JSON.stringify(n),callback:function(e){t&&t(e)}})},open:function(n,t){return"undefined"==typeof t&&(t=!0),e.webview.core.async("app","open",{appId:n,async:t})}},e.webview.system={stat:function(n,t){return e.webview.core.async("system","stat",{evtId:n,evtName:t})},version:function(n){return e.webview.core.async("system","version",{callback:n})},info:function(n){return e.webview.core.async("system","info",{callback:function(e){"object"==typeof e?n(e):"string"==typeof e&&n(JSON.parse(e))}})},call:function(n,t,c,r,a){var o={source:n,group:t,label:c,phone:JSON.stringify(r)};return a&&(o.title=a),e.webview.core.async("system","call",o)},log:function(n,t){return e.webview.core.async("system","log",{tag:n,message:t})},toast:function(n){return e.webview.core.async("system","toast",{message:n})},alert:function(n,t){return e.webview.core.async("system","alert",{message:n,title:t||""})},confirm:function(n,t,c){return c||(c={}),c.message=n,c.callback=function(e){t(e.data)},e.webview.core.async("system","confirm",c)},copy:function(){var n=arguments;return e.webview.core.async("system","copy",{text:"string"==typeof n[0]?n[0]:"",callback:"function"==typeof n[0]?n[0]:n[1]})},addLink:function(n){var t=document.createElement("a");return t.href=n.icon,n.icon=t.href,e.webview.core.async("system","addLink",n)},removeLink:function(n){return e.webview.core.async("system","removeLink",{name:n})}},e.webview.http={get:function(n,t){var c=t.callback;return t||(t={}),t.url=n,t.callback=function(){c(arguments[0])},e.webview.core.async("http","get",t)},post:function(n,t){var c=t.callback;return t||(t={}),t.url=n,t.callback=function(){c(arguments[0])},e.webview.core.async("http","post",t)},abort:function(n){return e.webview.core.async("http","abort",{httpId:n})}},e.webview.user={get:function(n){return e.webview.core.async("user","get",{callback:function(e){"object"==typeof e?n(e):"string"==typeof e&&n(JSON.parse(e))}})},login:function(n,t){var c=this;return e.webview.core.async("user","login",{from:n,callback:function(){t&&c.get(t)}})},logout:function(){return e.webview.core.async("user","logout"),this.get()},register:function(n,t){var c=this;return e.webview.core.async("user","register",{from:n,callback:function(){t&&c.get(t)}})}}}(self);